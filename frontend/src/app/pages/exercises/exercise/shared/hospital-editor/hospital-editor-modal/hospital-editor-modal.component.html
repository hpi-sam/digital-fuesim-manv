<div class="modal-header">
    <h4 class="modal-title">
        Krankenhäuser
        <button class="ms-3 btn btn-outline-primary" (click)="addHospital()">
            <i class="bi bi-plus"></i> Hinzufügen
        </button>
    </h4>
    <button type="button" class="btn-close" (click)="close()"></button>
</div>
<div
    *ngIf="hospitals$ | async | values as hospitals"
    class="modal-body"
    style="min-height: 60vh"
>
    <table *ngIf="hospitals.length > 0; else noHospitals" class="table">
        <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Transportzeit</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            <tr
                *ngFor="
                    let hospital of hospitals;
                    trackBy: 'id' | appTrackByProperty
                "
            >
                <td>
                    <input
                        #nameInput="ngModel"
                        [ngModel]="hospital.name"
                        (ngModelChange)="renameHospital(hospital.id, $event)"
                        required
                        placeholder="Name"
                        type="text"
                        class="form-control"
                    />
                </td>
                <td>
                    <input
                        required
                        [min]="0"
                        [max]="24 * 60"
                        [ngModel]="hospital.transportDuration / 1000 / 60"
                        (ngModelChange)="
                            editTransportDurationToHospital(
                                hospital.id,
                                $event * 1000 * 60
                            )
                        "
                        class="form-control d-inline-block"
                        step="1"
                        type="number"
                        style="width: 100px"
                        placeholder="Transportzeit"
                    />
                    <span class="ps-2 pe-2" title="Minuten">min</span>
                </td>
                <td>
                    <button
                        (click)="removeHospital(hospital.id)"
                        class="btn btn-outline-danger float-end"
                    >
                        <i class="bi bi-trash"></i> Löschen
                    </button>
                </td>
            </tr>
        </tbody>
    </table>

    <ng-template #noHospitals>
        <div class="text-muted mt-3 mb-3">
            Es sind noch keine Krankenhäuser vorhanden.
        </div>
    </ng-template>
</div>
