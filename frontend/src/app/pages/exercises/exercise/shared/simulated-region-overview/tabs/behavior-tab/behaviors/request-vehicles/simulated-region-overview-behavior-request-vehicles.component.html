<ng-container *ngIf="requestBehaviorState$ | async as requestBehaviorState">
    <h5>Anfragenziel</h5>

    <ng-container *ngIf="{ time: nextTimeoutIn$ | async } as nextTimeoutIn">
        <span *ngIf="(waitingForAnswer$ | async) === false && nextTimeoutIn.time === -1" class="text-muted">Es
            gibt aktuell keine Fahrzeuganfragen in dieser Region</span>
        <span *ngIf="(waitingForAnswer$ | async) === true" class="text-muted">Wartet auf die Antwort einer Anfrage
            von</span>
        <span *ngIf="nextTimeoutIn.time !== -1" class="text-muted">Nächste Anfrage potenziell in {{ nextTimeoutIn.time |
            date :
            'mm:ss'}} an</span>
    </ng-container>

    <ng-container *ngIf="
            initialRequestTargetOption$ | async as initialRequestTargetOption
        ">
        <ng-container *ngIf="requestTargetOptions$ | async as requestTargetOptions">
            <select #requestTargetSelect class="form-select no-validation" [ngModel]="initialRequestTargetOption"
                (change)="updateRequestTarget(requestTargetSelect.value)">
                <option *ngFor="let option of requestTargetOptions | keys" [value]="option">
                    {{ requestTargetOptions[option] }}
                </option>
            </select>
        </ng-container>
    </ng-container>

    <div class="mt-3 d-flex row">
        <h5>Einstellungen</h5>
        <div class="col-sm">
            <span>Zeitabstand zwischen Antwort und nächster Anfrage</span>
        </div>
        <div class="col-sm">
            <div class="input-group input-group-sm" style="max-width: 250px">
                <input type="number" min="0" step="0.1" [ngModel]="requestBehaviorState.requestInterval / 1000 / 60"
                    (appSaveOnTyping)="updateInterval($event * 1000 * 60)"
                    class="form-control form-control-sm d-inline-block no-validation" />
                <span class="input-group-text">Min</span>
            </div>
        </div>
    </div>
</ng-container>
