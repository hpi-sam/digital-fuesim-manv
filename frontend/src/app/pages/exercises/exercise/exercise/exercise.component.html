<div class="p-2 d-flex flex-column" style="height: 100vh">
    <div class="container">
        <h2>Übung: {{ exerciseId }}</h2>
        <!-- TODO: Make distinction between participant id and trainer id -->
    </div>

    <div class="flex-fill">
        <ng-container
            *ngIf="
                !(client$ | async)?.isInWaitingRoom;
                else waitingRoomTemplate
            "
        >
            <div
                *ngIf="
                    (client$ | async)?.role === 'participant';
                    else trainerMapEditor
                "
                class="h-100 rounded overflow-hidden"
            >
                <app-exercise-map></app-exercise-map>
            </div>

            <ng-template #trainerMapEditor>
                <app-trainer-map-editor
                    *ngIf="exerciseId"
                    [exerciseId]="exerciseId"
                ></app-trainer-map-editor>
            </ng-template>
        </ng-container>
        <ng-template #waitingRoomTemplate>
            <div class="container">
                <br />
                <div class="p-5 bg-light rounded-3">
                    <p class="lead mb-0">
                        Sie sind im Warteraum. Bitte warten sie bis ein Übungsleiter sie zuweist.
                    </p>
                    <!-- TODO: Add a nice waiting animation to fill the space -->
                </div>
            </div>
        </ng-template>
    </div>
</div>
